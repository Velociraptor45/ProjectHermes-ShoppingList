@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@using Fluxor
@using ProjectHermes.ShoppingList.Frontend.Redux.ShoppingList.Actions
@using ProjectHermes.ShoppingList.Frontend.Redux.ShoppingList.States

@inject IState<ShoppingListState> State
@inject IDispatcher Dispatcher

<Button Class="mr-1 d-flex align-items-center"
        OnClick="@OnShowBasketItemsChangeButtonClickedAsync"
        Disabled="@(!State.Value.ShoppingList?.AnyItemInBasket ?? true)">
    @if (State.Value.ItemsInBasketVisible)
    {
        <Icon Type="eye" />
    }
    else
    {
        <Icon Type="eye-invisible" />
    }
</Button>

@code {
    private void OnShowBasketItemsChangeButtonClickedAsync()
    {
        Dispatcher.Dispatch(new ToggleItemsInBasketVisibleAction());
    }
}